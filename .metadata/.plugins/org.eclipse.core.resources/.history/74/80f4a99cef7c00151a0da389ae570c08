package by.gsu.epamlab;

import java.util.Locale;
import java.util.Scanner;

/**
 * Created by Андрей on 26.10.2015.
 */
public class PercentPurchase extends Purchase {

    private final static int BARRIER_DISCOUNT=15;
    private double percentDiscount;

    public PercentPurchase() {
    	super();
    	this.percentDiscount = 0;
    }

    public PercentPurchase(String commodityName, int price, int numberUnits, double percentDiscount) {
        super(commodityName, price, numberUnits);
        this.percentDiscount = percentDiscount;
    }

    public PercentPurchase(Scanner scanner) {
        super(scanner);
        this.percentDiscount = scanner.useLocale(Locale.US).nextDouble();
    }

    public int getBARRIER_DISCOUNT() {
        return BARRIER_DISCOUNT;
    }

    public double getPercentDiscount() {
        return percentDiscount;
    }

    public void setPercentDiscount(double percentDiscount) {
        this.percentDiscount = percentDiscount;
    }

    @Override
    public int getCost() {
        if(getNumberUnits()>BARRIER_DISCOUNT)
            return (int)(super.getCost()*((100-percentDiscount)/100));
        else
            return super.getCost();
    }

    @Override
    public String toString() {
        return super.fieldsToString()+";"+percentDiscount+";"+getCost();
    }
}
